/**
 * "í—ˆë¦¬í†µì¦" ê´€ë ¨ ìˆ˜ë™ ìˆ˜ì§‘ í‚¤ì›Œë“œê°€ DBì— ì €ì¥ë˜ì—ˆëŠ”ì§€ í™•ì¸
 */

import dotenv from 'dotenv';
import { resolve } from 'path';
import { createClient } from '@libsql/client';

// .env.local íŒŒì¼ ë¡œë“œ
dotenv.config({ path: resolve(process.cwd(), '.env.local') });
dotenv.config();

const TURSO_DATABASE_URL = process.env.TURSO_DATABASE_URL;
const TURSO_AUTH_TOKEN = process.env.TURSO_AUTH_TOKEN;

async function checkBackPainKeywords() {
    if (!TURSO_DATABASE_URL || !TURSO_AUTH_TOKEN) {
        console.error('âŒ í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        process.exit(1);
    }

    try {
        const client = createClient({
            url: TURSO_DATABASE_URL,
            authToken: TURSO_AUTH_TOKEN,
        });

        console.log('ğŸ” "í—ˆë¦¬í†µì¦" ê´€ë ¨ ìˆ˜ë™ ìˆ˜ì§‘ í‚¤ì›Œë“œ í™•ì¸ ì¤‘...\n');

        // í™”ë©´ì— í‘œì‹œëœ ì£¼ìš” í‚¤ì›Œë“œë“¤ í™•ì¸
        const keywordsToCheck = [
            'ì´ë¹„ì¸í›„ê³¼',
            'ì •í˜•ì™¸ê³¼',
            'ë³‘ì›',
            'í•œì˜ì›',
            'ëŒ€ìƒí¬ì§„',
            'ì´ì„ì¦',
            'ëŒ€ìƒí¬ì§„ì¦ìƒ',
            'ë„ìˆ˜ì¹˜ë£Œ',
            'ì¡±ì €ê·¼ë§‰ì—¼',
            'ì‹ ê²½ì™¸ê³¼',
            'ë©”ë‹ˆì—ë¥´ë³‘',
            'íŒŒí‚¨ìŠ¨ë³‘',
            'í†µí’ì¦ìƒ',
            'í†µì¦ì˜í•™ê³¼',
            'ë¶€ì •ë§¥',
            'ë°œë°”ë‹¥í†µì¦',
            'ì™¼ìª½ì˜†êµ¬ë¦¬í†µì¦',
            'í†µí’',
            'ì˜¤ë¥¸ìª½ì˜†êµ¬ë¦¬í†µì¦',
            'ì–´ê¹¨í†µì¦',
            'ë¥˜ë§ˆí‹°ìŠ¤ê´€ì ˆì—¼',
            'êµí†µì‚¬ê³ ',
            'ìš”ë¡œê²°ì„',
            'ì´ëª…',
            'ë¬´ë¦í†µì¦',
            'ê³µì§„ë‹¨',
            'ê±´ì„ ',
            'ì†ëª©í„°ë„ì¦í›„êµ°',
            'ë¬´ì§€ì™¸ë°˜ì¦',
            'ì†ê°€ë½ë§ˆë””í†µì¦',
            'í—ˆë¦¬í†µì¦',
            'ì „ë¦½ì„ ì•”',
            'ê³ ê´€ì ˆí†µì¦',
            'í—ˆë¦¬ë””ìŠ¤í¬ì¦ìƒ',
            'ê³ ê´€ì ˆ',
            'ëŒ€ìƒí¬ì§„ì´ˆê¸°ì¦ìƒ',
            'ë‘ë“œëŸ¬ê¸°',
            'ì¡±ì €ê·¼ë§‰ì—¼ì¦ìƒ',
            'ì²™ì¶”ì¸¡ë§Œì¦',
            'í—ˆë¦¬ë””ìŠ¤í¬',
            'ì˜†êµ¬ë¦¬í†µì¦',
            'ëª©ë””ìŠ¤í¬ì¦ìƒ',
            'ê³¨ë‹¤ê³µì¦',
            'ìˆ˜ì¡±ëƒ‰ì¦',
            'íšŒì „ê·¼ê°œíŒŒì—´',
            'ì˜¤ì‹­ê²¬',
            'í•˜ì§€ì •ë§¥ë¥˜',
            'ëˆˆêº¼í’€ë–¨ë¦¼',
            'ë‚´ì„±ë°œí†±',
            'ì´ì„ì¦ì›ì¸',
            'ê¼¬ë¦¬ë¼ˆí†µì¦',
            'ë“±í†µì¦',
            'ë°œë’¤ê¿ˆì¹˜í†µì¦',
            'ëª©ë””ìŠ¤í¬',
            'í—ˆë¦¬ì‚ë—í–ˆì„ë•Œ',
            'ë§ˆì·¨í†µì¦ì˜í•™ê³¼',
            'íŒ”ê¿ˆì¹˜í†µì¦',
            'íŒŒí‚¨ìŠ¨ë³‘ì´ˆê¸°ì¦ìƒ',
            'ê³¨ë°˜í†µì¦',
            'ì˜¤ë¥¸ìª½ë“±í†µì¦',
            'í—ˆë¦¬ì•„í”Œë•Œìš´ë™',
            'ê²½ì¶”',
            'ì´ëª…ì›ì¸',
            'ì™¼ìª½ë“±í†µì¦',
            'ëŒ€ìƒí¬ì§„ë³‘ì›',
            'íŒŒí‚¨ìŠ¨ë³‘ì¦ìƒ',
            'ì†ëª©í†µì¦',
            'ê·¼ìœ¡ì´ì™„ì œ',
            'ê°•ì§ì„±ì²™ì¶”ì—¼',
            'ìš”ë¡œê²°ì„ì¦ìƒ',
            'ì¢…ì•„ë¦¬ê·¼ìœ¡ë­‰ì¹¨',
            'ì†ê°€ë½ê´€ì ˆí†µì¦',
            'ìˆ˜ì•¡',
            'ê³¨ë‹¤ê³µì¦ì£¼ì‚¬',
            'ì„œìš¸ì •í˜•ì™¸ê³¼',
            'ì¡±ì €ê·¼ë§‰ì—¼ì¹˜ë£Œ',
            'ë‘í†µ',
            'ë“±ê°€ìš´ë°í†µì¦',
            'ì˜¤ì‹­ê²¬ì¦ìƒ',
            'ì†Œë³€ìì£¼ë§ˆë ¤ì›€',
            'í‡´í–‰ì„±ê´€ì ˆì—¼',
            'ëª©í†µì¦',
            'í˜ˆë‡¨ì›ì¸',
            'ì¢Œê³¨ì‹ ê²½í†µ',
            'í˜‘ì°©ì¦',
            'í˜ˆë‡¨',
            'ì²™ì¶”í˜‘ì°©ì¦',
            'ì¶”ê°„íŒíƒˆì¶œì¦',
            'ê³¨ë°˜ì—¼ì¦ìƒ',
            'ëŒ€ì „ì •í˜•ì™¸ê³¼',
            'ì²´ì™¸ì¶©ê²©íŒŒ',
            'ì¢…ì•„ë¦¬í†µì¦',
            'ì—‰ë©ì´í†µì¦',
            'ë¬¼ë¦¬ì¹˜ë£Œ',
            'ì¶”ë‚˜ìš”ë²•',
            'ìš”í†µ',
            'ë¬´ë¦ì•ˆìª½í†µì¦',
            'ëª©ë””ìŠ¤í¬ìš´ë™',
            'ì–´ì§€ëŸ¼ì¦',
            'í…Œë‹ˆìŠ¤ì—˜ë³´',
            'ì´ìƒê·¼ì¦í›„êµ°',
            'ë³µë¶€ì´ˆìŒíŒŒ',
            'ë°©ì‚¬í†µ',
            'ë’·ëª©í†µì¦',
            'ì‹ ê²½ì°¨ë‹¨ìˆ ',
            'ë°©ê´‘ì•”',
            'ë°œëª©í†µì¦',
            'ì§€ê°„ì‹ ê²½ì¢…',
            'ê³ ê´€ì ˆìŠ¤íŠ¸ë ˆì¹­',
            'í›„ë‘ì‹ ê²½í†µ',
            'ì–‘ì¬ì—­ì •í˜•ì™¸ê³¼',
            'ì‹ ì¥ê²°ì„',
            'í—ˆë¦¬ì°œì§ˆê¸°',
            'ëª©ë””ìŠ¤í¬ì¹˜ë£Œë°©ë²•',
            'ê³¨ì ˆ',
            'ë“±ì´ì•„í”ˆì´ìœ ',
            'ì²™ì¶”ë¶„ë¦¬ì¦',
            'ì¼ìëª©',
            'ë£¨í‘¸ìŠ¤',
            'ë””ìŠ¤í¬',
            'ì ì‹¤ì •í˜•ì™¸ê³¼',
            'ê±°ë¶ëª©',
            'ì¢Œê³¨ì‹ ê²½í†µì¦ìƒ',
            'ì•„í‚¬ë ˆìŠ¤ê±´í†µì¦',
            'ê´€ì ˆì—¼',
            'ì¹´í…Œí„°',
            'ëª©ë””ìŠ¤í¬ì´ˆê¸°ì¦ìƒ',
            'ê³¨ë°˜ì—¼',
            'ê·¼ë§‰í†µì¦ì¦í›„êµ°',
            'ê·¼ê³¨ê²©ê³„ì§ˆí™˜',
            'ì²™ì¶”',
            'í—ˆë¦¬í˜‘ì°©ì¦',
            'í„°ë„ì¦í›„êµ°',
            'ì—°ê³¨ì£¼ì‚¬',
            'ë‹¤ë¦¬ì €ë¦¼',
            'ì™¼ìª½ì–´ê¹¨í†µì¦',
            'ê·¼ìœ¡í†µ',
            'ì¹´ì´ë¡œí”„ë™í‹±',
            'í—ˆë²…ì§€ë’¤ìª½í†µì¦',
            'íŒŒí‚¨ìŠ¨',
            'ê±°ë¶ëª©êµì •',
            'ì˜ì •ë¶€ì •í˜•ì™¸ê³¼',
            'ì²œê³¨',
            'ì²™ì¶”ê´€í˜‘ì°©ì¦',
            'ë„ìˆ˜ì¹˜ë£Œê¸ˆì•¡',
            'ê³ ê´€ì ˆìˆ˜ìˆ ',
            'ì†ê°€ë½ê´€ì ˆì—¼',
            'ì¡±ì €ê·¼ë§‰ì—¼ì¹˜ë£Œë°©ë²•',
            'í—ˆë¦¬í†µì¦ì›ì¸',
            'ê³¨ë°˜í‹€ì–´ì§êµì •',
            'ë¶€ì •ë§¥ì¹˜ë£Œ',
            'í—ˆë²…ì§€í†µì¦',
            'êµí†µì‚¬ê³ ë³‘ì›',
            'êµí†µì‚¬ê³ í•œë°©ë³‘ì›',
            'í—ˆë¦¬ë””ìŠ¤í¬ì¹˜ë£Œ',
            'ì¤‘í’',
            'SPINE',
            'í†µí’ì•½',
            'ì†Œë³€í”¼',
            'í†µí’ì´ˆê¸°ì¦ìƒ',
            'í—ˆë¦¬ë””ìŠ¤í¬ì¦ì„¸',
            'ê³ ê´€ì ˆí†µì¦ì›ì¸',
            'ì²™ì¶”ì „ë°©ì „ìœ„ì¦',
            'ìì„¸êµì •',
            'ì†ëª©í„°ë„ì¦í›„êµ°ì¦ìƒ',
            'ì‹ ê²½ì„±í˜•ìˆ ',
            'ì—‰ì¹˜ë¼ˆí†µì¦',
            'í†µí’ì¹˜ë£Œ',
            'ë‚ ê°œë¼ˆí†µì¦',
            'ìŠ¹ëª¨ê·¼í†µì¦',
            'ì‹ ë„ë¦¼ì •í˜•ì™¸ê³¼',
            'í„±ê´€ì ˆì¹˜ë£Œë³‘ì›',
            'ì˜¤ë¥¸ìª½ê³¨ë°˜í†µì¦',
            'í—ˆë¦¬',
            'íŒ”ê¿ˆì¹˜ì•ˆìª½í†µì¦',
            'í‰ê³½ì¶œêµ¬ì¦í›„êµ°',
            'í—ˆë¦¬ë””ìŠ¤í¬ìš´ë™',
            'ë¶€ì²œì •í˜•ì™¸ê³¼',
            'ì œì£¼í”¼ë¶€ê³¼',
            'ìš”ë¡œê²°ì„í†µì¦',
            'ë‹¤ë¦¬ì €ë¦¼ì›ì¸',
            'í—ˆë¦¬ë””ìŠ¤í¬ìˆ˜ìˆ ',
            'í›„ì¢…ì¸ëŒ€ê³¨í™”ì¦',
            'ìˆ˜í—˜ìƒì˜ì–‘ì œ',
            'í†µì¦í´ë¦¬ë‹‰',
            'í…Œë‹ˆìŠ¤ì—˜ë³´ìš°',
            'ì´ì„ì¦ì¹˜ë£Œ',
            'í†µì¦',
            'ê´€ì ˆì—¼ì¦ìƒ',
            'ê³¨ë‹¤ê³µì¦ì¦ìƒ',
            'í—ˆë¦¬í†µì¦ë³‘ì›',
            'ê²½ì¶”ì„±ë‘í†µ',
            'ê³¨í”„ì—˜ë³´',
            'ëª©ì´ë¬¼ê°',
            'ëª©ë™ì •í˜•ì™¸ê³¼',
            'ê°•ì§ì„±ì²™ì¶”ì—¼ì¦ìƒ',
            'ë¬´ë¦ì—°ê³¨ì—°í™”ì¦',
            'ì²œì¥ê´€ì ˆ',
            'í—ˆë¦¬í†µì¦ìŠ¤íŠ¸ë ˆì¹­',
            'ìš”ì¶”ì—¼ì¢Œ',
            'ëª©ë””ìŠ¤í¬ì›ì¸',
            'ì¼ìëª©êµì •',
            'ë‚¨ì–‘ì£¼ì •í˜•ì™¸ê³¼',
            'ì•ˆë©´ë§ˆë¹„',
            'ì†ëª©ê²°ì ˆì¢…',
            'ë‹¤ë¦¬í†µì¦',
            'êµí†µì‚¬ê³ í•œì˜ì›',
            'í—ˆë¦¬ë””ìŠ¤í¬ì´ˆê¸°ì¦ìƒ',
            'íŒŒí‚¨ìŠ¨ë³‘ì¹˜ë£Œ',
            'í„±ê´€ì ˆë³‘ì›',
            'ê´€ì ˆ',
            'ì¶”ë‚˜ìš”ë²•ê°€ê²©',
            'í—ˆë¦¬ì•„í”Œë•Œ',
            'ê°•ë™êµ¬ì •í˜•ì™¸ê³¼',
            'ë°œë’¤ê¿ˆì¹˜',
            'ì¸ê³µê´€ì ˆìˆ˜ìˆ ',
            'í—ˆë¦¬í˜‘ì°©ì¦ìš´ë™',
            'ìŠ¬ê´€ì ˆ',
            'í„±ê´€ì ˆí†µì¦',
            'í—ˆë¦¬ê°•í™”ìš´ë™',
            'í…Œë‹ˆìŠ¤ì—˜ë³´ì¹˜ë£Œ',
            'ëª©ë””ìŠ¤í¬ì¹˜ë£Œ',
            'PEN',
            'ì „ë°©ì „ìœ„ì¦',
            'ì†ê°€ë½í†µì¦',
            'ê³ ê´€ì ˆê³¨ì ˆ',
            'ì„œì´ˆë™ì •í˜•ì™¸ê³¼',
            'ë¬´ë¦ì—¼ì¦',
            'í—ˆë¦¬ê·¼ìœ¡ê°•í™”ìš´ë™',
            'ì™¼ìª½ëª©í†µì¦',
            'ì™¼ìª½ì–´ê¹¨í†µì¦ì›ì¸',
            'ì—˜ë³´ì¹˜ë£Œ',
            'í˜ˆì•¡íˆ¬ì„',
            'í‰ì´Œì •í˜•ì™¸ê³¼',
            'íŒ”ì €ë¦¼',
            'ì†Œë³€ì—ì„œí”¼',
            'ì™¼ìª½íŒ”ì €ë¦¼',
            'í—ˆë¦¬ì°œì§ˆíŒ©',
            'í„±ê´€ì ˆí†µì¦ì¹˜ë£Œ',
            'ìœ„ë¡€ì •í˜•ì™¸ê³¼',
            'ì¸ì²œì •í˜•ì™¸ê³¼',
            'ì²™ì¶”ì¸¡ë§Œì¦ìš´ë™',
            'ì—‰ë©ì´ë¼ˆí†µì¦',
            'í—ˆë¦¬ì•„í”Œë•Œë³‘ì›',
            'ì†¡íŒŒì •í˜•ì™¸ê³¼',
            'ì²™ì¶”4ë²ˆ5ë²ˆ',
            'ì•ˆë©´ë§ˆë¹„ì¦ìƒ',
            'í—ˆë¦¬ìš´ë™',
            'ì´ì²œì •í˜•ì™¸ê³¼',
            'ì—„ì§€ì†ê°€ë½ë§ˆë””í†µì¦',
            'í„±ê´€ì ˆì¹˜ë£Œ',
            'ì½˜ì¥¬ë€',
            'í—ˆë¦¬ë””ìŠ¤í¬ì›ì¸',
            'ëª©ë””ìŠ¤í¬ë‘í†µ',
            'í—ˆë¦¬í˜‘ì°©ì¦ì¦ìƒ',
            'ë§ˆê³¡ì •í˜•ì™¸ê³¼',
            'ì¢Œê³¨',
            'ìš”ë¡œê²°ì„ì œê±°',
            'ì²™ì¶”ë¼ˆ',
            'ì–´ê¹¨í†µì¦ì›ì¸',
            'ëª©ìŠ¤íŠ¸ë ˆì¹­',
            'ìš”ë¡œê²°ì„ìˆ˜ìˆ ',
            'í‡´í–‰ì„±ê´€ì ˆì—¼ì¹˜ë£Œ',
            'í—ˆë¦¬í˜‘ì°©ì¦ì¹˜ë£Œ',
            'ì™¼ìª½ì—‰ë©ì´í†µì¦',
            'í•˜ì§€ì •ë§¥ë¥˜í†µì¦',
            'ì™¼ìª½ë‹¤ë¦¬ì €ë¦¼',
            'í„±',
            'ì†ëª©ë³´í˜¸ë§ˆìš°ìŠ¤',
            'ëª©ì–´ê¹¨í†µì¦',
            'ì‹¬ë¶€ì •ë§¥í˜ˆì „ì¦',
            'ì¢Œê³¨ì‹ ê²½í†µì¹˜ë£Œ',
            'ì²™ì¶”ì „ë§Œì¦',
            'ëª©ë””ìŠ¤í¬ë³‘ì›',
            'ì••ë°•ê³¨ì ˆ',
            'í˜‘ì°©ì¦ìš´ë™',
            'ì—°ì„¸ë² ìŠ¤íŠ¸ë³‘ì›',
            'ë¬´ë¦ê´€ì ˆì—¼',
            'í˜‘ì°©ì¦ì¦ìƒ',
            'í—ˆë¦¬ë””ìŠ¤í¬ì‹œìˆ ',
            'ì–´ê¹¨í†µì¦ë³‘ì›',
            'êµ¬ì•ˆì™€ì‚¬ì¹˜ë£Œ',
            'í—ˆë¦¬MRIë¹„ìš©',
            'ê·¼ê³¨ê²©ê³„',
            'ì¬í™œì¹˜ë£Œ',
            'ì—‰ë©ì´ê·¼ìœ¡ìš´ë™',
            'ì˜¤ë¥¸ìª½í—ˆë¦¬í†µì¦',
            'í—ˆë¦¬ë””ìŠ¤í¬í˜‘ì°©ì¦',
            'í—ˆë¦¬ì£¼ì‚¬',
            'ì¶”ê°„íŒ',
            'ì§€ê°„ì‹ ê²½ì¢…ì¹˜ë£Œ',
            'ì²´í˜•êµì •ì„¼í„°',
            'ë¬´ë¦ì—°ê³¨',
            'ì²™ì¶”í›„ë§Œì¦',
            'í—ˆë¦¬í†µì¦ì£¼ì‚¬',
            'í—ˆë¦¬ë³‘ì›',
            'í—ˆë¦¬ì°œì§ˆ',
            'ë’·ëª©ë‘í†µ',
            'ëª©ë””ìŠ¤í¬ê°€ìŠ´í†µì¦',
            'ëª©ë””ìŠ¤í¬ìˆ˜ìˆ ',
            'í—ˆë¦¬ì‹ ê²½ì°¨ë‹¨ìˆ ',
            'ì²™ì¶”í˜‘ì°©ì¦ì¦ìƒ',
            'ì²™ì¶”ì¸¡ë§Œì¦ì¹˜ë£Œ',
            'í—ˆë¦¬ë””ìŠ¤í¬ì—ì¢‹ì€ìš´ë™',
            'ê²½ì¶”í†µì¦',
            'í—ˆë¦¬ë””ìŠ¤í¬ë³‘ì›',
            'ëª©ê·¼ìœ¡í†µì¦',
            'ì²œì¥ê´€ì ˆì¦í›„êµ°',
            'í—ˆë¦¬í†µì¦ë‹¤ë¦¬ì €ë¦¼',
            'ì•”ê¸°ì˜í•˜ëŠ”ë²•',
            'ëˆˆë–¨ë¦¼ë³‘ì›',
            'ì˜¤ë¥¸ìª½ì—‰ë©ì´í†µì¦',
            'ë¬´ë¦í†µì¦ì›ì¸',
            'ì—‰ì¹˜í†µì¦',
            'ê³ ê´€ì ˆìˆ˜ìˆ ë¹„ìš©',
            'ê°•ì„œêµ¬ì •í˜•ì™¸ê³¼',
            'ê²½ì¶”ì²™ìˆ˜ì¦',
            'í—ˆë¦¬ë””ìŠ¤í¬ìˆ˜ìˆ ë¹„ìš©',
            'íˆì•Œë£¨ë¡ ì‚°ì£¼ì‚¬',
            'ì²™ì¶”ìœ í•©ìˆ ',
            'í—ˆë¦¬ì—¼ì¢Œ',
            'í‡´í–‰ì„±í—ˆë¦¬ë””ìŠ¤í¬',
            'ì ì•¡ë‚­ì—¼',
            'ê±°ë¶ëª©ì¹˜ë£Œ',
            'í—ˆë¦¬ê°€ì•„í”ˆì´ìœ ',
            'ì§‘ì¤‘ë ¥',
            'ì²™ì¶”í˜‘ì°©ì¦ìš´ë™',
            'ë””ìŠ¤í¬ìˆ˜ìˆ ',
            'ì¶©ëŒì¦í›„êµ°',
            'í—ˆë¦¬ê°€ë„ˆë¬´ì•„íŒŒìš”',
            'í—ˆë¦¬ë””ìŠ¤í¬í†µì¦',
            'ì–‘ë°©í–¥ì²™ì¶”ë‚´ì‹œê²½',
            'ì²™ì¶”ì••ë°•ê³¨ì ˆ',
            'ì²™ì¶”ê³¨ì ˆ',
            'ì¢Œê³¨ì‹ ê²½í†µìš´ë™',
            'í˜‘ì°©ì¦ì¹˜ë£Œ',
            'ë°©ê´‘í†µì¦',
            'ë§ì´ˆì‹ ê²½ë³‘ì¦ì¹˜ë£Œ',
            'ê´€ì ˆê²½ìˆ˜ìˆ ',
            'ê³¨ê´€ì ˆì—¼',
            'ì²™ì¶”ì¸¡ë§Œì¦ì¦ìƒ',
            'ì¬í™œì„¼í„°',
            'í—ˆë¦¬í˜‘ì°©ì¦ì¦ì„¸',
            'UBE',
            'ë’·ê³¨ì´ë•¡ê¸°ëŠ”ì´ìœ ',
            'ì²™ì¶”êµì •',
            'í‰ì¶”ê³¨ì ˆ',
            'ê±°ë¶ëª©ì¦ìƒ',
            'ì†ëª©í†µì¦ë³‘ì›',
            'ì²™ì¶”ê´€í˜‘ì°©ì¦ì¦ìƒ',
            'ë¬´ë¦ì—°ê³¨ì£¼ì‚¬íš¨ê³¼',
            'ì¡±ì €ê·¼ë§‰ì—¼ì£¼ì‚¬',
            'ë¬´ë¦ì—°ê³¨ìˆ˜ìˆ ',
            'í–„ìŠ¤íŠ¸ë§ì¹˜ë£Œ',
            'ì–´ê¹¨ì •í˜•ì™¸ê³¼',
            'ì–¼êµ´ë–¨ë¦¼',
            'ë¬´ë¦MRI',
            'ìš”ì¶”ì¶”ê°„íŒíƒˆì¶œì¦',
            'ì˜¤ë¥¸ìª½ë¬´ë¦í†µì¦',
            'íŒ”ë‹¤ë¦¬ì €ë¦¼',
            'í—ˆë¦¬ê·¼ìœ¡í†µì¦',
            'ë°œë°”ë‹¥ì €ë¦¼',
            'í™”ê³¡ì—­ì •í˜•ì™¸ê³¼',
            'ì•ˆë©´ì‹ ê²½ë§ˆë¹„',
            'ê·¼ìœ¡í†µë³‘ì›',
            'í—ˆë¦¬ë””ìŠ¤í¬ì£¼ì‚¬ì¹˜ë£Œ',
            'ëª©ë””ìŠ¤í¬ì—ì¢‹ì€ìš´ë™',
            'ì¸ì²œë…¼í˜„ë™ì •í˜•ì™¸ê³¼',
            'ì²™ì¶”ë³‘ì›',
            'í—ˆë¦¬ì‹œìˆ ',
            'íŒŒí‚¨ìŠ¨ì¦í›„êµ°',
            'ì‚¼ì„±ë™ì •í˜•ì™¸ê³¼',
            'í—ˆë¦¬í˜‘ì°©ì¦ì‹œìˆ ',
            'ì¡±ë¶€ì •í˜•ì™¸ê³¼',
            'ì½˜ì¥¬ë€ì£¼ì‚¬',
            'í—ˆë¦¬MRI',
            'í—ˆë¦¬ë””ìŠ¤í¬ì£¼ì‚¬',
            'í’ì„ í™•ì¥ìˆ ',
            'ì²™ì¶”ê´€í˜‘ì°©ì¦ìš´ë™',
            'ì˜¨ì—´ë³µëŒ€',
            'íŒ”ê¿ˆì¹˜í„°ë„ì¦í›„êµ°',
            'ì¢…ì•„ë¦¬ì €ë¦¼',
            'êµí†µì‚¬ê³ ë„ìˆ˜ì¹˜ë£Œ',
            'ëª©ë””ìŠ¤í¬ì‹œìˆ ',
            'í—ˆë¦¬ê·¼ìœ¡í†µ',
            'ë¬´ë¦ì†Œë¦¬',
            'ë¬´ë¦êµ¬ë¶€ë¦´ë•Œí†µì¦',
            'ê±°ë¶ëª©ì¦í›„êµ°',
            'ì–´ê¹¨ë­‰ì¹¨',
            'ì†ëª©ê³¨ì ˆìˆ˜ìˆ ',
            'ê²½ë§‰ì™¸ì‹ ê²½ì°¨ë‹¨ìˆ ',
            'ì¶”ë‚˜ì¹˜ë£Œë¹„ìš©',
            'ì²™ì¶”í˜‘ì°©ì¦ìˆ˜ìˆ ',
            'ê³ ê´€ì ˆì¶©ëŒì¦í›„êµ°',
            'ì†¡íŒŒêµ¬ì •í˜•ì™¸ê³¼',
            'ë¬´ë¦í†µì¦ë³‘ì›',
            'ì™¼ìª½ë‹¤ë¦¬í†µì¦',
            'íŒ”ê·¼ìœ¡í†µì¦',
            'ë¥˜ë§ˆí‹°ìŠ¤ë³‘ì›',
            'ê´€ì ˆí†µì¦',
            'ì—‰ë©ì´ê·¼ìœ¡í†µì¦',
            'MRIê²€ì‚¬ë¹„ìš©',
            'í˜¸í‰ë™ì •í˜•ì™¸ê³¼',
            'ì–´ê¹¨íšŒì „ê·¼ê°œíŒŒì—´ìˆ˜ìˆ ',
            'í—ˆë¦¬ìˆ˜ìˆ ',
            'êµì •ê¹”ì°½',
            'ì²™ì¶”ì „ë°©ì „ìœ„ì¦ìš´ë™',
            'í—ˆë¦¬í†µì¦ìš´ë™',
            'ì¸¡ë§Œì¦',
            'ë””ìŠ¤í¬í˜‘ì°©ì¦',
            'í—ˆë¦¬ê³¨ì ˆ',
            'ì˜ì •ë¶€ì—­ì •í˜•ì™¸ê³¼',
            'ì‹ ê²½ì™¸ê³¼ë³‘ì›',
            'ì–´ê¹¨MRIë¹„ìš©',
            'ìˆ˜í—˜ìƒë¹„íƒ€ë¯¼',
            'ìš”ë¡œê²°ì„ë³‘ì›',
            'í‡´í–‰ì„±ë””ìŠ¤í¬',
            'í™”ê³¡ë™ì •í˜•ì™¸ê³¼',
            'í—ˆë¦¬ì‚ë—í–ˆì„ë•Œë³‘ì›',
            'í—ˆë¦¬ë””ìŠ¤í¬ë°©ì‚¬í†µ',
            'ì œì£¼ì‹œí”¼ë¶€ê³¼',
            'ì²™ì¶”ì¸¡ë§Œì¦êµì •ê¸°',
            'íšŒì „ê·¼ê°œíŒŒì—´ì¹˜ë£Œë²•',
            'ë””ìŠ¤í¬íŒŒì—´',
            'ì²™ì¶”ì—¼',
            'ëª©ë””ìŠ¤í¬ì‹ ê²½ì°¨ë‹¨ìˆ ',
            'í—ˆë¦¬ì‹œìˆ ë¹„ìš©',
            'ê³¨ë°˜í‹€ì–´ì§',
            'ì•ˆë©´ë§ˆë¹„ì¹˜ë£Œ',
            'ëª©ë””ìŠ¤í¬ì¦ì„¸',
            'í—ˆë¦¬êµì •'
        ];

        console.log(`ğŸ“‹ í™•ì¸í•  í‚¤ì›Œë“œ ëª©ë¡: ${keywordsToCheck.length}ê°œ\n`);

        // ê° í‚¤ì›Œë“œê°€ DBì— ìˆëŠ”ì§€ í™•ì¸
        const foundKeywords: any[] = [];
        const notFoundKeywords: string[] = [];
        const recentlyCreated: any[] = [];

        const tenMinutesAgo = new Date(Date.now() - 10 * 60 * 1000).toISOString();

        for (const keyword of keywordsToCheck) {
            const result = await client.execute({
                sql: 'SELECT keyword, total_search_cnt, pc_search_cnt, mo_search_cnt, created_at, updated_at FROM keywords WHERE keyword = ?',
                args: [keyword]
            });

            if (result.rows.length > 0) {
                const row = result.rows[0];
                foundKeywords.push(row);
                
                // ìµœê·¼ 10ë¶„ ë‚´ ìƒì„±ëœ í‚¤ì›Œë“œ í™•ì¸
                const createdAt = row.created_at as string;
                if (createdAt && new Date(createdAt) >= new Date(tenMinutesAgo)) {
                    recentlyCreated.push(row);
                }
            } else {
                notFoundKeywords.push(keyword);
            }
        }

        console.log('â”€'.repeat(100));
        console.log(`âœ… DBì— ì €ì¥ëœ í‚¤ì›Œë“œ: ${foundKeywords.length}ê°œ`);
        console.log(`âŒ DBì— ì—†ëŠ” í‚¤ì›Œë“œ: ${notFoundKeywords.length}ê°œ`);
        console.log(`ğŸ†• ìµœê·¼ 10ë¶„ ë‚´ ìƒì„±ëœ í‚¤ì›Œë“œ: ${recentlyCreated.length}ê°œ`);
        console.log('â”€'.repeat(100));
        console.log('');

        if (notFoundKeywords.length > 0) {
            console.log('âŒ DBì— ì—†ëŠ” í‚¤ì›Œë“œ ëª©ë¡:');
            notFoundKeywords.slice(0, 20).forEach((kw, idx) => {
                console.log(`   ${idx + 1}. ${kw}`);
            });
            if (notFoundKeywords.length > 20) {
                console.log(`   ... ì™¸ ${notFoundKeywords.length - 20}ê°œ`);
            }
            console.log('');
        }

        if (recentlyCreated.length > 0) {
            console.log('ğŸ†• ìµœê·¼ 10ë¶„ ë‚´ ìƒì„±ëœ í‚¤ì›Œë“œ (ìƒˆë¡œ ì €ì¥ëœ ê²ƒìœ¼ë¡œ ë³´ì„):');
            recentlyCreated.forEach((row, idx) => {
                const keyword = row.keyword as string;
                const totalSearch = row.total_search_cnt as number;
                const createdAt = row.created_at as string;
                const createdDate = createdAt ? new Date(createdAt).toLocaleString('ko-KR') : 'N/A';
                console.log(`   ${idx + 1}. ${keyword} (${totalSearch.toLocaleString()}) - ${createdDate}`);
            });
            console.log('');
        }

        // ìµœê·¼ 10ë¶„ ë‚´ ìƒì„±ëœ ëª¨ë“  í‚¤ì›Œë“œ í™•ì¸
        console.log('ğŸ” ìµœê·¼ 10ë¶„ ë‚´ ìƒì„±ëœ ëª¨ë“  í‚¤ì›Œë“œ:');
        const recentAllResult = await client.execute({
            sql: `SELECT keyword, total_search_cnt, created_at 
                  FROM keywords 
                  WHERE created_at >= datetime('now', '-10 minutes')
                  ORDER BY created_at DESC
                  LIMIT 50`,
            args: []
        });

        if (recentAllResult.rows.length > 0) {
            console.log(`   ì´ ${recentAllResult.rows.length}ê°œ ë°œê²¬:`);
            recentAllResult.rows.forEach((row, idx) => {
                const keyword = row.keyword as string;
                const totalSearch = row.total_search_cnt as number;
                const createdAt = row.created_at as string;
                const createdDate = createdAt ? new Date(createdAt).toLocaleString('ko-KR') : 'N/A';
                console.log(`   ${idx + 1}. ${keyword} (${totalSearch.toLocaleString()}) - ${createdDate}`);
            });
        } else {
            console.log('   ìµœê·¼ 10ë¶„ ë‚´ ìƒì„±ëœ í‚¤ì›Œë“œê°€ ì—†ìŠµë‹ˆë‹¤.');
        }
        console.log('');

        // ìš”ì•½
        console.log('â”€'.repeat(100));
        console.log('ğŸ“Š ìš”ì•½:');
        console.log(`   - í™•ì¸í•œ í‚¤ì›Œë“œ: ${keywordsToCheck.length}ê°œ`);
        console.log(`   - DBì— ì €ì¥ë¨: ${foundKeywords.length}ê°œ`);
        console.log(`   - DBì— ì—†ìŒ: ${notFoundKeywords.length}ê°œ`);
        console.log(`   - ìµœê·¼ 10ë¶„ ë‚´ ìƒì„±: ${recentlyCreated.length}ê°œ`);
        
        if (notFoundKeywords.length > 0) {
            console.log(`\nâš ï¸ ê²½ê³ : ${notFoundKeywords.length}ê°œì˜ í‚¤ì›Œë“œê°€ DBì— ì €ì¥ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!`);
        } else if (recentlyCreated.length === 0 && foundKeywords.length === keywordsToCheck.length) {
            console.log(`\nğŸ’¡ ì°¸ê³ : ëª¨ë“  í‚¤ì›Œë“œê°€ DBì— ìˆì§€ë§Œ, ìµœê·¼ 10ë¶„ ë‚´ ìƒì„±ëœ ê²ƒì€ ì—†ìŠµë‹ˆë‹¤.`);
            console.log(`   ì´ëŠ” ì´ë¯¸ ì´ì „ì— ì €ì¥ë˜ì–´ ìˆì—ˆë˜ í‚¤ì›Œë“œë“¤ì…ë‹ˆë‹¤.`);
        } else if (recentlyCreated.length > 0) {
            console.log(`\nâœ… ì •ìƒ: ${recentlyCreated.length}ê°œì˜ í‚¤ì›Œë“œê°€ ìµœê·¼ 10ë¶„ ë‚´ ìƒˆë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!`);
        }
        console.log('');

    } catch (error: any) {
        console.error('âŒ ì˜¤ë¥˜ ë°œìƒ:', error.message);
        console.error('ìƒì„¸:', error);
        process.exit(1);
    }
}

checkBackPainKeywords();

